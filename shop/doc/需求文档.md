# iKUN商城系统需求文档

## 📋 目录
- [1. 项目概述](#1-项目概述)
- [2. 功能需求](#2-功能需求)
- [3. 数据库设计](#3-数据库设计)
- [4. 非功能性需求](#4-非功能性需求)
- [5. 系统约束](#5-系统约束)
- [6. 验收标准](#6-验收标准)
- [7. 项目里程碑](#7-项目里程碑)

---

## 1. 项目概述

### 1.1 项目背景

iKUN商城是一个基于SSH（Spring + Struts2 + Hibernate）架构的B2C电商平台，旨在为用户提供完整的在线购物体验。

> **系统特点**：
> - 🛒 **双端设计**：包含用户端和管理端两个部分
> - 🏪 **功能完整**：支持商品浏览、购物车管理、订单处理、用户管理等核心电商功能
> - 🎯 **技术成熟**：采用经典的SSH架构，稳定可靠

### 1.2 项目目标

| 目标 | 描述 |
|------|------|
| 🏗️ **平台建设** | 构建功能完善的电商购物平台 |
| 👥 **用户体验** | 提供友好的用户界面和良好的用户体验 |
| 📦 **业务流程** | 实现完整的商品管理和订单处理流程 |
| 🗂️ **分类管理** | 支持多级分类的商品管理 |
| 🔐 **安全机制** | 提供安全可靠的用户注册和登录机制 |

### 1.3 技术架构

| 技术栈 | 版本/工具 |
|--------|-----------|
| **后端框架** | Spring 3.2.18 + Struts2 2.3.15.3 + Hibernate 3.6.10 |
| **数据库** | MySQL |
| **连接池** | C3P0 |
| **前端技术** | JSP + CSS + JavaScript |
| **构建工具** | Maven |
| **应用服务器** | Tomcat |

---

## 2. 功能需求

### 2.1 前台用户功能

#### 2.1.1 用户管理模块

##### 🔐 2.1.1.1 用户注册

> **功能描述**：新用户通过填写注册信息创建账户

**详细需求**：
- ✅ 前台JS表单校验（用户名、密码、邮箱格式等）
- 🔄 AJAX异步校验用户名是否存在
- 🛡️ 后台Struts2数据校验
- 🖼️ 图形验证码功能
- 💾 用户信息安全存储到数据库

**业务规则**：
- ❌ 用户名不能重复
- 📏 密码长度至少6位
- 📧 邮箱格式必须正确

##### 👤 2.1.1.2 用户登录

> **功能描述**：已注册用户通过用户名密码登录系统

**详细需求**：
- 📝 输入用户名和密码进行数据校验
- ✅ 验证用户名、密码正确性
- 🔓 验证用户状态必须为激活状态
- 💾 登录成功后将用户信息存入Session
- ❌ 登录失败返回错误提示

##### 🚪 2.1.1.3 用户退出

> **功能描述**：已登录用户退出系统

**详细需求**：
- 🗑️ 销毁用户Session
- 🏠 返回首页

#### 2.1.2 商品分类模块

##### 📂 2.1.2.1 查询一级分类

> **功能描述**：显示所有一级商品分类

**详细需求**：
- 🔍 查询并显示所有一级分类
- 💾 将分类信息存入Session（供各页面使用）

##### 🗂️ 2.1.2.2 查询分类商品

> **功能描述**：根据分类查看商品列表

**详细需求**：
- 📋 查询某个一级分类下的所有二级分类
- 📦 同时显示每个分类下的商品信息

#### 2.1.3 商品模块

##### 🔥 2.1.3.1 热门商品展示

> **功能描述**：在首页展示热门商品

**详细需求**：
- 🔍 查询并显示热门商品（限制10个）
- 📊 按热度排序

##### 🆕 2.1.3.2 最新商品展示

> **功能描述**：在首页展示最新商品

**详细需求**：
- 🔍 查询并显示最新上架商品（限制10个）
- ⏰ 按上架时间倒序排列

##### 📋 2.1.3.3 分类商品查询

> **功能描述**：按分类浏览商品

**详细需求**：
- 🏷️ 根据一级分类ID查询商品
- 🏷️ 根据二级分类ID查询商品
- 📄 支持分页显示

##### 📦 2.1.3.4 商品详情查看

> **功能描述**：查看单个商品的详细信息

**详细需求**：
- 🔍 根据商品ID查询商品详情
- 🖼️ 显示商品图片、名称、价格、描述等信息

#### 2.1.4 购物车模块

##### 🛒 2.1.4.1 添加到购物车

> **功能描述**：将商品添加到购物车

**详细需求**：
- ➕ 将选中商品信息添加到购物车
- 🔢 支持数量调整
- 💰 实时计算小计金额

##### 🛍️ 2.1.4.2 购物车管理

> **功能描述**：管理购物车中的商品

**详细需求**：
- ❌ 从购物车中移除单个商品
- 🗑️ 清空购物车所有商品
- 📝 修改商品数量
- 💵 显示购物车总金额


---

### 2.2 后台管理功能

#### 2.2.1 用户管理模块

##### 👥 2.2.1.1 用户信息管理

> **功能描述**：管理员对用户信息进行CRUD操作

**详细需求**：
- ➕ 添加用户到数据库
- ✏️ 修改用户信息
- ❌ 删除用户
- 🔍 查询用户（支持分页）
- 🔄 用户状态管理

#### 2.2.2 一级分类管理

##### 📂 2.2.2.1 分类CRUD操作

> **功能描述**：管理商品一级分类

**详细需求**：
- ➕ 添加一级分类
- ✏️ 修改一级分类信息
- ❌ 删除一级分类（级联删除二级分类）
- 📋 查询所有一级分类

#### 2.2.3 二级分类管理

##### 🗂️ 2.2.3.1 子分类管理

> **功能描述**：管理商品二级分类

**详细需求**：
- ➕ 添加二级分类（需关联一级分类）
- ✏️ 修改二级分类及其所属一级分类
- ❌ 删除二级分类
- 📋 查询二级分类（支持分页）

#### 2.2.4 商品管理模块

##### 📦 2.2.4.1 商品信息管理

> **功能描述**：管理商品信息

**详细需求**：
- ➕ 添加商品（包含商品图片上传）
- ✏️ 修改商品信息和图片
- ❌ 删除商品
- 🔍 商品查询（支持分页）
- 🏷️ 设置商品所属二级分类

---

## 3. 数据库设计

### 3.1 数据库表概览

| 表名 | 中文名 | 主要功能 |
|------|--------|----------|
| `user` | 用户表 | 存储前台用户信息 |
| `adminuser` | 管理员表 | 存储后台管理员信息 |
| `category` | 一级分类表 | 存储商品一级分类 |
| `categorysecond` | 二级分类表 | 存储商品二级分类 |
| `product` | 商品表 | 存储商品详细信息 |

### 3.2 用户表 (user)
| 字段名 | 数据类型 | 长度 | 是否为空 | 默认值 | 说明 |
|--------|----------|------|----------|---------|------|
| uid | int | 11 | NOT NULL | AUTO_INCREMENT | 用户ID（主键） |
| username | varchar | 255 | NULL | | 用户名 |
| password | varchar | 255 | NULL | | 密码 |
| name | varchar | 255 | NULL | | 真实姓名 |
| email | varchar | 255 | NULL | | 邮箱 |
| phone | varchar | 255 | NULL | | 电话 |
| addr | varchar | 255 | NULL | | 地址 |
| state | int | 11 | NULL | 0 | 用户状态（0:未激活 1:已激活） |
| code | varchar | 64 | NULL | | 激活码 |

### 3.2 一级分类表 (category)
| 字段名 | 数据类型 | 长度 | 是否为空 | 默认值 | 说明 |
|--------|----------|------|----------|---------|------|
| cid | int | 11 | NOT NULL | AUTO_INCREMENT | 一级分类ID（主键） |
| cname | varchar | 255 | NULL | | 一级分类名称 |

### 3.3 二级分类表 (categorysecond)
| 字段名 | 数据类型 | 长度 | 是否为空 | 默认值 | 说明 |
|--------|----------|------|----------|---------|------|
| csid | int | 11 | NOT NULL | AUTO_INCREMENT | 二级分类ID（主键） |
| csname | varchar | 255 | NULL | | 二级分类名称 |
| cid | int | 11 | NULL | | 一级分类ID（外键） |

### 3.4 商品表 (product)
| 字段名 | 数据类型 | 长度 | 是否为空 | 默认值 | 说明 |
|--------|----------|------|----------|---------|------|
| pid | int | 11 | NOT NULL | AUTO_INCREMENT | 商品ID（主键） |
| pname | varchar | 255 | NULL | | 商品名称 |
| market_price | decimal | 10,2 | NULL | | 市场价格 |
| shop_price | decimal | 10,2 | NULL | | 商城价格 |
| image | varchar | 255 | NULL | | 商品图片路径 |
| pdesc | text | | NULL | | 商品描述 |
| is_hot | int | 11 | NULL | 0 | 是否热门（0:否 1:是） |
| date_time | datetime | | NULL | | 上架时间 |
| csid | int | 11 | NULL | | 二级分类ID（外键） |



### 3.5 后台管理员表 (adminuser)
| 字段名 | 数据类型 | 长度 | 是否为空 | 默认值 | 说明 |
|--------|----------|------|----------|---------|------|
| aid | int | 11 | NOT NULL | AUTO_INCREMENT | 管理员ID（主键） |
| username | varchar | 255 | NULL | | 管理员用户名 |
| password | varchar | 255 | NULL | | 管理员密码 |

---

> **文档版本**：v1.0  
> **最后更新**：2025年7月10日  
> **文档状态**：正式版
